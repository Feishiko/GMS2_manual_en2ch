<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>获取实例变量</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../../files/helpindex.css"
type="text/css">
<link rel="stylesheet" href="../../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/2_drag_and_drop_reference/instance_actions/get_instance_variable.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F2_drag_and_drop_reference%2Finstance_actions%2Fget_instance_variable.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../../index.html?page=source%2F_build%2F3_scripting%2F2_drag_and_drop_reference%2Finstance_actions%2Fget_instance_variable.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script><!-- !chm2web! -->


<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2><img style="vertical-align:middle" src=
"images/i_instance_get_instance_variable.png"> 获取实例变量</h2>

<div class="body-scroll">
<p><br>
</p>

<h3>描述</h3>

<blockquote>
<p>使用此动作你可以获得实例中任何 <b>内置</b> 变量。所有对象的所有实例都有许多变量，以保存基本信息，如当前x / y位置，速度，方向，可见性和许多其他内容。你可以取得值的实例变量：</p>

<ul>
<li><a href=
"../../4_gml_reference/instances/instance_variables/x.html">X坐标</a> - X轴上的位置。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/y.html">Y 坐标</a> - Y轴上的位置。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/direction.html"> 方向</a> - 实例移动的方向，默认是0，向右是0度，向下是90度，向左是180度，向下是270度。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/speed.html">速度</a> - 实例的速度，单位是像素每游戏帧。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/hspeed.html">水平速度</a> - 实例的水平速度，单位是像素每游戏帧。负数说明它在向左移动，正数说明它在向右移动，0说明它在水平方向上不移动。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/vspeed.html">垂直速度</a> - 实例的垂直速度，单位是像素每游戏帧。负数说明它在向上移动，正数说明它在向下移动，0说明它在垂直方向上不移动。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/visible.html">可见性</a> - 用于启用可见的变量。默认是 <tt>true</tt> ，你也可以在 <a href=
"../../../2_interface/1_editors/objects.html">物体编辑器</a>设置它。设置为 <tt>false</tt>将不可见。 <i>除了</i> 绘制事件外，这个不可见的实例仍会运行其它事件。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/persistent.html"> 持久</a> -控制是否持久的变量。默认情况下是 <tt>false</tt> ，你也可以在 <a href=
"../../../2_interface/1_editors/objects.html">物体编辑器</a>中将它设为 <tt>true</tt>以使它可见。如果一个实例是“持久"的，那么它不会随房间结束而消失，而是继续存在于下一个房间中。如果一个实例是持久的，那么它 <i>不会</i> 调用创建或销毁事件，而是调用清除，房间终止和房间开始事件。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/layer.html">层</a> - 此实例所在的层<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/depth.html">深度</a> - 此层所在的视野。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/sprite_index.html"> 精灵</a> - 被分配给此实例的精灵资源。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/image_index.html"> 图像索引</a> - 被分配的精灵的图像索引。此值是指被分配的精灵的当前帧的图像的索引。返回值将在0和精灵中次级图像的数量之间。如果图像速度并不是精确值，那么返回值可能会是个小数。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/image_angle.html"> 图像旋转的角度</a> - 实例目前的旋转角，默认是0，向右是0度，向下是90度，向左是180度，向下是270度。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/image_alpha.html"> 图像阿尔法</a> - 实例的阿尔法值，值为0到1之间，默认是1，即完全不透明。0为完全透明。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/image_blend.html"> 图像混合</a> - 当前和实例精灵混合的颜色，默认为白色。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/image_speed.html"> 图像速度</a> - 当前精灵的动画速度。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/image_xscale.html"> 水平比例</a> - 此实例精灵的水平比例。这对此实例的边界框和碰撞遮罩同样产生影响。1 代表比例为1：1，0.5代表将被绘制得更小，2代表绘制为原来的两倍。负数将会绘制精灵的镜像<i>并</i> 按照比例绘制，除非返回值为1，这样这个精灵只在y轴上有镜像，并且按原比例绘制。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/image_yscale.html"> 垂直比例</a> - 此实例精灵的垂直比例。这对此实例的边界框和碰撞遮罩同样产生影响。1 代表比例为1：1，0.5代表将被绘制得更小，2代表绘制为原来的两倍。负数将会绘制精灵的镜像<i>并</i> 按照比例绘制，除非返回值为1，这样这个精灵只在y轴上有镜像，并且按原比例绘制。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/mask_index.html"> 遮罩</a> - 此实例的遮罩索引。默认返回值是-1，这意味着此实例使用的是当前精灵的碰撞遮罩。但如果你将碰撞遮罩设为其它精灵的，那么将返回那个精灵的索引。<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/friction.html">摩擦力</a> - 此实例移动时所受到的摩擦力。默认为0.<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/gravity.html">重力</a> - 此实例受到的重力。默认为0.<br>
<br></li>

<li><a href=
"../../4_gml_reference/instances/instance_variables/gravity_direction.html"> 重力方向</a> - 此实例受到的重力方向。返回值将在0到360之间。默认是0，向右是0度，向下是90度，向左是180度，向下是270度。默认值是270。<br>
<br></li>

<li><a href="../instance_variable_actions/get_score.html">分数</a> - 获得 <tt>分数</tt> 变量<br>
<br></li>

<li><a href="../instance_variable_actions/get_lives.html">生命</a> - 获得 <tt>生命</tt> 变量<br>
<br></li>

<li><a href=
"../instance_variable_actions/get_health.html">健康</a> - 获得<tt>健康</tt> 变量<br>
<br></li>
</ul>
</blockquote>

<p>你选择了需要取得的内置变量值后，你就要设置保存此返回值的目标变量。如果你设置的目标变量是 临时（局部）变量，那么此动作将创建变量来保存返回值，直到事件结束。你可以多次执行这个动作，你需要点击动作旁的加号 <img style=
"vertical-align:middle" src="../icon_expand_arguments.png"> ，你需要给出实例的变量和一个存储此返回值的的变量。</p>

<p><br>
</p>

<h3>动作语法：</h3>
<img class="center" src=
"images/a_instance_get_instance_variable.png" alt=
"Get Instance Variable Syntax">
<p><br>
</p>

<h3>参数：</h3>

<blockquote>
<table>
<tr>
<th>参数</th>
<th>描述</th>
</tr>

<tr>
<td>变量</td>
<td>需要取得的内置变量</td>
</tr>

<tr class="alt">
<td>目标</td>
<td>将要存储返回值的目标变量。</td>
</tr>
</table>
</blockquote>

<p><br>
</p>

<h3>例如：</h3>
<img class="center" src=
"images/e_instance_set_instance_variable.png" alt=
"Set Instance Variable Example">
<blockquote>
<p>上述的代码将会取得之前的X/Y坐标值并将它们和当前X/Y值比较。. 如果它们不相同，那么将更改此实例的精灵索引，并将它的图像索引设为0.</p>
</blockquote>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">上一页:<a href="index.html">常见操作</a></div>

<div style="float:right">next: <a href="set_sprite.html">Set
Sprite</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2017 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
