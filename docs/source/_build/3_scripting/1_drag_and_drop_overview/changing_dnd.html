<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="keywords" content="在线文档、网络联机帮助、web 帮助、chm2w" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<title>拖拽按钮转换为代码</title>
<meta http-equiv="X-UA-Compatible" content="IE=9">

<link rel="stylesheet" href="../../../../files/helpindex.css" type=
"text/css">
<link rel="stylesheet" href="../../../../default.css" type=
"text/css">

<script type="text/JavaScript" src="../../../../files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "_build/3_scripting/1_drag_and_drop_overview/changing_dnd.html";
</script>

</head>
<body><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F1_drag_and_drop_overview%2Fchanging_dnd.html\">here</a> to show toolbars of the Web Online Help System: <a href=\"../../../../index.html?page=source%2F_build%2F3_scripting%2F1_drag_and_drop_overview%2Fchanging_dnd.html\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script><!-- !chm2web! -->


<script type="text/JavaScript">
 if( typeof(chmtop.helpStyle) != 'undefined' ) { var linkNodes = document.getElementsByTagName("link");  for( var i=0; i < linkNodes.length; ++i ) { var link = linkNodes[i];    if( link.href.endsWith("default.css")) {    var style = link.href.replace("default.css", chmtop.helpStyle); document.write('<link id="newstyleLink" rel="stylesheet" href=' + style + ' type="text/css">');    break; } } } 
</script>
<h2>拖拽按钮转换为代码</h2>

<div class="body-scroll">
<p><br>
</p>

<p>DnD™ 的另一个特性是你可以将其转换为 GML（GameMaker 语言）代码，并以这种方式查看使用动作时幕后的确切情况。然而，在将动作实际更改为 GML 之前，你可以先使用鼠标右键 <img style=
"vertical-align:middle" src="../../images/icon_rmb.png"> 菜单选项 <b>实时预览</b> 来 <i>预览</i>：<img class="center" src=
"images/dnd_preview_rmbmenu.png" alt="实时预览"></p>

<p>这会打开一个新窗口： <img class="center" src=
"images/dnd_preview.png" alt="DnD实时预览窗口"></p>

<p>当你添加、更改或删除 DnD™ 动作时，GML 实时预览将更新以向你显示 “幕后” 创建的实际代码。 实时预览中的代码无法直接编辑，但你可以选择部分并将其复制以粘贴到 GML 脚本或代码动作。</p>

<p>如果你决定在看到预览后将 DnD™ 转换为代码，则可以通过在任何具有动作的事件工作区中单击鼠标右键 <img style="vertical-align:middle" src=
"../../images/icon_rmb.png"> 并选择 <b>转成为 GML</b> 再次完成此操作。<img class="center" src=
"images/dnd_code_rmbmenu.png" alt="转换成GML"></p>

<p>第一次执行此操作时，你将收到一条警告消息，指出这是 <b>单向转换</b>，因为你可以将动作转换为代码，但以后无法再将其转换回单个动作。点击 “确定”，这将为你执行转换。 <img class="center" src=
"images/dnd_code.png" alt="DnD™ as code"></p>

<p>生成的代码将使用 {} 来分隔单个动作，你可以清楚地看到哪些动作与代码中的哪些函数或变量声明相关。如果 DnD™ 更复杂，那么代码也将如此，但是相同的一般规则适用，代码将按顺序与你编写 DnD™ 的顺序完全相同。 请注意，有时代码会添加额外的本地（临时）变量来存储将要使用的某些值，例如： <img class="center" src=
"images/dnd_instanceexists.png" alt="DnD™ Instance Exists"></p>

<p>将变成如下代码： <img class="center" src=
"images/code_instanceexists.png" alt="Code Instance Exists"></p>

<p>这里的代码首先创建一个本地（临时）变量并将其设置为 false，然后检查实例是否存在并将局部变量设置为函数调用的返回值。 然后检查局部变量以查看它是 <tt>true</tt> 还是 <tt>false</tt>，如果为 true，则运行其余代码。</p>

<p>当学习使用拖放进行编程时，这可能是在后期使用 GML 的重要工具，但它绝不是强制性的，你仍然可以使用 DnD™ 制作出色的游戏！同样值得注意的是，虽然转换过程是一种方式，但在将动作转换为代码后，你 <i>可以</i> 通过使用代码编辑器中的右键菜单并选择 “转换成DnD™” 再次使用DnD™。 这会将先前创建的代码置于 <a href=
"../2_drag_and_drop_reference/common_actions/execute_code.html">执行代码</a> 动作中，然后你可以像以前一样继续使用 DnD™：
<img class="center" src="images/dnd_executecode.png" alt=
"DnD™ Execute Code"></p>

<p><br>
</p>
</div>

<div class="footer">
<div class="buttons">
<div class="clear">
<div style="float:left">上一页：<a href="index.html">拖拽按钮概览</a></div>

<div style="float:right">下一页：<a href=
"creating_action_block_code.html">构造动作代码块</a></div>
</div>
</div>

<h5>© Copyright YoYo Games Ltd. 2017 All Rights Reserved</h5>
<script type="text/javascript">
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');   ga('create', 'UA-2711665-14', 'auto');   ga('send', 'pageview'); 
</script>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("source/" + chmtop.c2wtopf.pageid);
}
</script>
</body>
</html>
